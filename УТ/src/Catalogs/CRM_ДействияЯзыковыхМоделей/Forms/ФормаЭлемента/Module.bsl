
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Элементы.ИзменяетТекст.Доступность = (Не Объект.Предопределенный);
	Элементы.ВыбратьКартинку.Доступность = (Не Объект.Предопределенный);
	Элементы.ВосстановитьПромпт.Видимость = (Объект.Предопределенный);
	
	Если ЗначениеЗаполнено(Объект.Иконка)
		И Метаданные.ОбщиеКартинки.Найти(Объект.Иконка) <> Неопределено Тогда
		Иконка = ПоместитьВоВременноеХранилище(БиблиотекаКартинок[Объект.Иконка], УникальныйИдентификатор);
	КонецЕсли;
	Если Объект.Ссылка.Пустая() Тогда
		Объект.Используется = Истина;
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийЭлементовШапкиФормы

&НаКлиенте
Процедура КартинкаНажатие(Элемент)
	
	Объект.Иконка = Элемент.Имя;
	Иконка = ПоместитьВоВременноеХранилище(БиблиотекаКартинок[Объект.Иконка], УникальныйИдентификатор);
	Модифицированность = Истина;
	
	Элементы.ВыбратьКартинку.Скрыть();
	
КонецПроцедуры

&НаСервере
Процедура ВосстановитьПромптНаСервере()
	Объект.СистемныйПромпт = 
		Справочники.CRM_ДействияЯзыковыхМоделей.ПромптПредопределенного(Объект.ИмяПредопределенныхДанных);
	Модифицированность = Истина;
КонецПроцедуры

&НаКлиенте
Процедура ВосстановитьПромпт(Команда)
	ВосстановитьПромптНаСервере();
КонецПроцедуры



#КонецОбласти
