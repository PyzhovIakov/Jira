
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	ВысотаКартинки = Параметры.Высота;
	ШиринаКартинки = Параметры.Ширина;
	Коэф = ВысотаКартинки / ШиринаКартинки;
	СохранятьПропорции = Истина;
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийЭлементовШапкиФормы

&НаКлиенте
Процедура ШиринаПриИзменении(Элемент)
	Если СохранятьПропорции Тогда
		ВысотаКартинки = Коэф * ШиринаКартинки;
	КонецЕсли;	
КонецПроцедуры

&НаКлиенте
Процедура ВысотаПриИзменении(Элемент)
	Если СохранятьПропорции Тогда
		ШиринаКартинки = ВысотаКартинки / Коэф;
	КонецЕсли;
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура ОК(Команда)
	СтруктураВозврата = Новый Структура;
	СтруктураВозврата.Вставить("Высота", ВысотаКартинки);
	СтруктураВозврата.Вставить("Ширина", ШиринаКартинки);
	Закрыть(СтруктураВозврата);
КонецПроцедуры

&НаКлиенте
Процедура Отмена(Команда)
	Закрыть(Неопределено);
КонецПроцедуры

#КонецОбласти
