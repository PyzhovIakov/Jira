///////////////////////////////////////////////////////////////////////////////////////////////////////
// Copyright (c) 2024, ООО 1С-Софт
// Все права защищены. Эта программа и сопроводительные материалы предоставляются 
// в соответствии с условиями лицензии Attribution 4.0 International (CC BY 4.0)
// Текст лицензии доступен по ссылке:
// https://creativecommons.org/licenses/by/4.0/legalcode
///////////////////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Подсистема "ПоискКонтрагентов".
// ОбщийМодуль.ПоискКонтрагентовСлужебныйВызовСервера.
//
// Служебные процедуры и функции для вызова серверных методов с клиента.
//  - Запись информации в журнал регистрации.
//  - Обработка подбора значения из веб-справочника или из Классификатора ОКВЭД.
//
////////////////////////////////////////////////////////////////////////////////

#Область СлужебныеПроцедурыИФункции

// Добавляет запись в журнал регистрации.
//
// Параметры:
//  СообщениеОбОшибке - Строка - комментарий к записи журнала регистрации.
//  Ошибка - Булево - если истина будет установлен уровень журнала регистрации "Ошибка".
//
Процедура ЗаписатьИнформациюВЖурналРегистрации(
		Знач СообщениеОбОшибке,
		Знач Ошибка = Истина) Экспорт
	
	ПоискКонтрагентовСлужебный.ЗаписатьИнформациюВЖурналРегистрации(
		СообщениеОбОшибке,
		Ошибка);
	
КонецПроцедуры

// Выполняет подбор информации из классификатора ОКВЭД.
//
// Параметры:
//  СтрокаПоиска - Строка - Введенная пользователем строка поиска.
//
// Возвращаемое значение:
//  см. КлассификаторОКВЭД.Подбор.
//
Функция ПодборОКВЭД(Знач СтрокаПоиска) Экспорт
	
	ПараметрыПодбора              = КлассификаторОКВЭД.НовыйОтбор();
	ПараметрыПодбора.СтрокаПоиска = СтрокаПоиска;
	ПараметрыПодбора.Режим        = "КодИНаименование";
	
	Возврат КлассификаторОКВЭД.Подбор(ПараметрыПодбора);
	
КонецФункции

// Выполняет подбор информации из веб-справочника.
//
// Параметры:
//  Текст - Строка - Введенная пользователем строка поиска.
//  ИдентификаторКритерия - Строка - идентификатор критерия отбора, для которого необходимо выполнить поиск допустимых
//    для выбора значений.
//
// Возвращаемое значение:
//  см. ПоискКонтрагентовСлужебный.ПодборВСправочникеСервиса.
//
Функция ПодборВСправочникеСервиса(
		Знач Текст,
		Знач ИдентификаторКритерия) Экспорт
	
	Возврат ПоискКонтрагентовСлужебный.ПодборВСправочникеСервиса(
		Текст,
		ИдентификаторКритерия);
	
КонецФункции

// Выполняет вызов метода ПоискКонтрагентовПереопределяемый.ПриОпределенииПолейПоУмолчанию и возвращает измененный
//   массив со списком полей по умолчанию.
//
// Параметры:
//  ВидКонтрагента - Строка - идентификатор вида контрагента может принимать значения "ЮрЛицо" или "ИП".
//  ПоляПоУмолчанию - Массив Из Строка - идентификаторы полей, выводимых по умолчанию для указанного вида контрагента.
//
// Возвращаемое значение:
// Массив Из Строка - идентификаторы полей, выводимых по умолчанию.
//
Функция ОпределитьПоляПоУмолчанию(
		Знач ВидКонтрагента,
		Знач ПоляПоУмолчанию) Экспорт

	ИнтеграцияПодсистемБИП.ПриОпределенииПолейПоУмолчанию(
		ВидКонтрагента,
		ПоляПоУмолчанию);
		
	ПоискКонтрагентовПереопределяемый.ПриОпределенииПолейПоУмолчанию(
		ВидКонтрагента,
		ПоляПоУмолчанию);
		
	Возврат ПоляПоУмолчанию;
	
КонецФункции

#КонецОбласти