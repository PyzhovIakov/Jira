///////////////////////////////////////////////////////////////////////////////////////////////////////
// Copyright (c) 2024, ООО 1С-Софт
// Все права защищены. Эта программа и сопроводительные материалы предоставляются 
// в соответствии с условиями лицензии Attribution 4.0 International (CC BY 4.0)
// Текст лицензии доступен по ссылке:
// https://creativecommons.org/licenses/by/4.0/legalcode
///////////////////////////////////////////////////////////////////////////////////////////////////////

// @strict-types
#Если Не ВнешнееСоединение Тогда

#Область СлужебныйПрограммныйИнтерфейс

#Область АдаптацияФорм

#Область ТекущиеДелаПоЭДОЛегкийИнтерфейс

// Возвращает закэшированную структуру сведений об элементах формы ТекущиеДелаПоЭДОЛегкийИнтерфейс
// (элементы и настройки элементов для последующей адаптации под экран мобильного устройства).
//
// Возвращаемое значение:
//  Структура:
//   * ЭлементыСтиля - Структура - Структура элементов стиля для моб.клиента
//   * ИмяКоманднойПанели - Строка - Имя командной панели
//	 * КомандыПодменюКоманднойПанели - Строка - Перечисление команд для добавления в подменю в моб. клиенте
//	 * ИмяАкцентнойКнопки - Строка - Имя акцентной кнопки
//	 * ИмяПанелиНавигации - Строка - Имя панели навигации на форме (добавляется программно)
//	 * ЭлементыКСкрытию - Строка - Список элементов формы к скрытию на форме в моб. клиенте
//   * СведенияОРазделах - Структура - с ключами:
//    ** СтраницаВходящиеЭлектронныеДокументы - Структура - с ключами:
//     *** ЗаголовокФормы - Строка - Заголовок формы, при актвации страницы
//     *** ИмяСтраницы - Строка - Имя элемента страницы для переключения
//     *** ИмяКоманды - Строка - Имя команды переключения страницы
//     *** ЗаголовокКоманды - Строка - Заголовок команды переключения
//     *** ИмяСписка - Строка - Имя динамического списка
//     *** ЭтоВходящиеИлиИсходящие - Булево - Признак входяище или исходящие документы
//	   *** ИмяРеквизитаФормыКоличествоЭлементов - Строка - Имя реквизита формы с количеством элементов
//    ** СтраницаИсходящиеЭлектронныеДокументы - Структура - с ключами (см.СтраницаВходящиеЭлектронныеДокументы)
//	 * ИмяГруппыФильтры - Строка - Имя группы с фильтрами
//	 * СведенияОбЭлементахФильтра - Массив - Элементы из структуры "СведенияОбЭлементахФильтра"
//	 * ИмяГруппыПодвал - Строка- Имя группы Подвал
//
Функция СведенияОбЭлементахФормыТекущиеДелаПоЭДОЛегкийИнтерфейс() Экспорт

	СведенияОбЭлементах = Новый Структура;
	
	СведенияОбЭлементах.Вставить("ЭлементыСтиля", ЭлементыСтиля());
	
	СведенияОбЭлементах.Вставить("ИмяКоманднойПанели","МК_КоманднаяПанель");
	
	СведенияОбЭлементах.Вставить("КомандыПодменюКоманднойПанели",
		"ОМодулеЭДО,
		|Техподдержка,
		|ОбщаяКомандаДиагностикаЭДО,
		|ЕстьИдея");
	
	СведенияОбЭлементах.Вставить("ИмяАкцентнойКнопки","Обновить");
	
	СведенияОбЭлементах.Вставить("ИмяПанелиНавигации","МК_ПанельНавигации");
	
	СведенияОбЭлементах.Вставить("ЭлементыКСкрытию",
		"Обновить,
		|ГруппаОбластьПросмотра,
		|ПанельНавигации,
		|ГруппаКомандыСписковПраво,
		|СтраницыКомандыТекущегоСписка,
		|ВходящиеЭлектронныеДокументыОрганизация,
		|ВходящиеЭлектронныеДокументыВложение,
		|ВходящиеЭлектронныеДокументыОтражениеВУчете,
		|ИсходящиеЭлектронныеДокументыОрганизация,
		|ИсходящиеЭлектронныеДокументыВложение,
		|ИсходящиеЭлектронныеДокументыОтражениеВУчете");
	
	СведенияОРазделах = Новый Структура;

	СведенияОРазделеВходящие = СведенияОРазделеВходящие();
	СведенияОРазделах.Вставить(СведенияОРазделеВходящие.ИмяСтраницы, СведенияОРазделеВходящие);

	СведенияОРазделеИсходящие = СведенияОРазделеИсходящие();
	СведенияОРазделах.Вставить(СведенияОРазделеИсходящие.ИмяСтраницы, СведенияОРазделеИсходящие);
	
	СведенияОбЭлементах.Вставить("СведенияОРазделах", СведенияОРазделах);
	
	СведенияОбЭлементах.Вставить("ИмяГруппыФильтры", "МК_Фильтры");
	
	СведенияОбЭлементах.Вставить("ИмяКомандыПоказатьСкрытьФильтры",
		"Подключаемый_МК_ПоказатьСкрытьФильтры");
	
	СведенияОбЭлементахФильтра = Новый Массив;
	СведенияОбЭлементеФильтра =
		НовыйСведенияОРасположенииЭлемента("КомандаОчиститьБыстрыеОтборы", 0);
	
	СведенияОбЭлементеФильтра.ГоризонтальноеПоложение = "Право";
	
	СведенияОбЭлементахФильтра.Добавить(СведенияОбЭлементеФильтра);
	
	СведенияОбЭлементеФильтра =
		НовыйСведенияОРасположенииЭлемента("ГруппаБыстрыеОтборыПраво", 1);
	
	СведенияОбЭлементахФильтра.Добавить(СведенияОбЭлементеФильтра);
	СведенияОбЭлементеФильтра = НовыйСведенияОРасположенииЭлемента(
		"ГруппаБыстрыеОтборыПраво1", 1);

	СведенияОбЭлементеФильтра = НовыйСведенияОРасположенииЭлемента(
		"ГруппаБыстрыеОтборыЛево", 1);

	СведенияОбЭлементахФильтра.Добавить(СведенияОбЭлементеФильтра);
	
	СведенияОбЭлементах.Вставить("СведенияОбЭлементахФильтра", СведенияОбЭлементахФильтра);
	
	СведенияОбЭлементах.Вставить("ИмяГруппыПодвал","МК_Подвал");
	
	//@skip-check constructor-function-return-section
	Возврат СведенияОбЭлементах;

КонецФункции

// Возвращает закэшированные элементы стиля, используемые в моб. клиенте.
//
// Возвращаемое значение:
//  Структура - Структура элементов стиля с ключами:
//		* ШрифтАкцентнойКнопки 				- Шрифт
//		* ШрифтДополнительнойКнопки 		- Шрифт
//		* ЦветАктивнойДополнительнойКнопки 	- Цвет
//		* ЦветАкцента						- Цвет
//		* ЦветАкцентаОтрицательный			- Цвет
//		* ЦветДополнительнойКнопки			- Цвет
//
Функция ЭлементыСтиля() Экспорт
	
	ЭлементыСтиля = Новый Структура;

	//Шрифты Стиля
	ЭлементыСтиля.Вставить("ШрифтАкцентнойКнопки",				ШрифтыСтиля.ОбычныйШрифтТекста);
	ЭлементыСтиля.Вставить("ШрифтДополнительнойКнопки",			ШрифтыСтиля.МелкийШрифтТекста);
	
	//Цвета Стиля
	ЭлементыСтиля.Вставить("ЦветАктивнойДополнительнойКнопки",	ЦветаСтиля.МК_ЦветАктивнойДополнительнойКнопкиЭДО);
	ЭлементыСтиля.Вставить("ЦветАкцента",						ЦветаСтиля.ЦветАкцента);
	ЭлементыСтиля.Вставить("ЦветАкцентаОтрицательный",			ЦветаСтиля.ЦветТекстаОтрицательногоЗначения);
	ЭлементыСтиля.Вставить("ЦветДополнительнойКнопки",			ЦветаСтиля.МК_ЦветДополнительнойКнопкиЭДО);

	Возврат ЭлементыСтиля;

КонецФункции

#КонецОбласти

#КонецОбласти

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

// Возвращает сведения о разделе
// Параметры:
//  ЗаголовокФормы - Строка - заголовок формы
//  ИмяСписка - Строка - имя списка
//  ИмяКоманды - Строка - имя команды для активации страницы 
// Возвращаемое значение:
//  Структура:
//   * ЗаголовокФормы - Строка - Заголовок формы, при актвации страницы
//   * ИмяСтраницы - Строка - имя страницы
//   * ИмяКоманды - Строка - Имя команды переключения страницы
//   * ЗаголовокКоманды - Строка - Заголовок команды переключения
//   * ИмяСписка - Строка - Имя динамического списка
//   * ЭтоВходящиеИлиИсходящие - Булево - Признак входяище или исходящие документы
//	 * ИмяРеквизитаФормыКоличествоЭлементов - Строка - Имя реквизита формы с количеством элементов
//	 * АдаптируемыеПоляСписка - Массив - Элементы (типа "СведенияОПолеСписка") типа  для группировки в списке (через запятую)
//
Функция НовыйСведенияОРазделеФормыТекущиеДела(ЗаголовокФормы = "", ИмяСписка = "", ИмяКоманды = "")
	
	СведенияОРазделе = Новый Структура;
	СведенияОРазделе.Вставить("ЗаголовокФормы", ЗаголовокФормы);
	СведенияОРазделе.Вставить("ИмяСписка", ИмяСписка);
	СведенияОРазделе.Вставить("ИмяКоманды", ИмяКоманды);
	
	СведенияОРазделе.Вставить("ИмяСтраницы", "");
	СведенияОРазделе.Вставить("ЗаголовокКоманды", "");
	СведенияОРазделе.Вставить("ЭтоВходящиеИлиИсходящие", Ложь);
	СведенияОРазделе.Вставить("ИмяРеквизитаФормыКоличествоЭлементов", "");
	СведенияОРазделе.Вставить("АдаптируемыеПоляСписка", Новый Массив);
	
	Возврат СведенияОРазделе;

КонецФункции

//Возвращает сведения о расположении элемента в группе
// Параметры:
//  Имя - Строка - Имя поля списка
//  ИндексГруппыКолонок - Число - Индекс группы колонок
//  
// Возвращаемое значение:
//  Структура:
//  * Имя - Строка - Имя элемента
//  * ГоризонтальноеПоложение - Строка - Горизонтальное положение
//  * ВертикальноеПоложение - Строка - Вертикальное положение 
//	* ИндексГруппыКолонок - Число - Индекс группы колонок
//
Функция НовыйСведенияОРасположенииЭлемента(Имя = "", ИндексГруппыКолонок = 0);
	
	СведенияОРасположенииЭлемента = Новый Структура;
	
	СведенияОРасположенииЭлемента .Вставить("Имя", Имя);
	СведенияОРасположенииЭлемента .Вставить("ИндексГруппыКолонок", ИндексГруппыКолонок);
	СведенияОРасположенииЭлемента .Вставить("ГоризонтальноеПоложение", "Авто");
	СведенияОРасположенииЭлемента .Вставить("ВертикальноеПоложение", "Центр");

	Возврат СведенияОРасположенииЭлемента ;
	
КонецФункции

//Возвращает сведения о разделе "Входящие электронные документы" обработки "ИнтерфейсДокументовЭДО",
//	для формы "ТекущиеДелаПоЭДОЛегкийИнтерфейс".
// Возвращаемое значение:
//  Структура:
//  * ЗаголовокКоманды - Строка - Заголовок команды для переключения страницы
//  * ИмяСтраницы - Строка - Имя страницы
//  * ЭтоВходящиеИлиИсходящие - Булево - Признак, определяющий входящие или исходящие документы
//	* АдаптируемыеПоляСписка - Массив - Содержит поля списка для адаптации: *Строка- Строка
//
Функция СведенияОРазделеВходящие()

	ЗаголовокФормы = НСтр("ru ='ЭДО: Входящие документы'");
	ИмяПодключаемойКоманды = "Подключаемый_МК_АктивироватьСтраницуВходящие";
	
	СведенияОРазделе = НовыйСведенияОРазделеФормыТекущиеДела(ЗаголовокФормы,
		"ВходящиеЭлектронныеДокументы",
		ИмяПодключаемойКоманды);

	СведенияОРазделе.ЗаголовокКоманды = НСтр("ru ='Входящие'");
	СведенияОРазделе.ИмяСтраницы = "СтраницаВходящиеЭлектронныеДокументы";
	СведенияОРазделе.ЭтоВходящиеИлиИсходящие = Истина;
	СведенияОРазделе.ИмяРеквизитаФормыКоличествоЭлементов = "КоличествоНовыхВходящие";
	
	СведенияОПолеСписка = НовыйСведенияОРасположенииЭлемента("ВходящиеЭлектронныеДокументыКонтрагент", 0);
	
	СведенияОРазделе.АдаптируемыеПоляСписка.Добавить(СведенияОПолеСписка);
	
	СведенияОПолеСписка = НовыйСведенияОРасположенииЭлемента("ВходящиеЭлектронныеДокументыДатаПолучения", 0);
	СведенияОПолеСписка.ГоризонтальноеПоложение = "Право";
	СведенияОРазделе.АдаптируемыеПоляСписка.Добавить(СведенияОПолеСписка);
	
	СведенияОПолеСписка = НовыйСведенияОРасположенииЭлемента(
		"ВходящиеЭлектронныеДокументыЭлектронныйДокумент", 1);
	СведенияОРазделе.АдаптируемыеПоляСписка.Добавить(СведенияОПолеСписка);
	
	СведенияОПолеСписка = НовыйСведенияОРасположенииЭлемента("ВходящиеЭлектронныеДокументыГруппаСостояние", 2);
	СведенияОРазделе.АдаптируемыеПоляСписка.Добавить(СведенияОПолеСписка);
	
	СведенияОПолеСписка = НовыйСведенияОРасположенииЭлемента("ВходящиеЭлектронныеДокументыСуммаДокумента", 2);
	СведенияОПолеСписка.ГоризонтальноеПоложение = "Право";
	СведенияОРазделе.АдаптируемыеПоляСписка.Добавить(СведенияОПолеСписка);
	
	Возврат СведенияОРазделе;

КонецФункции


//Возвращает сведения о разделе "Исходящие электронные документы" обработки "ИнтерфейсДокументовЭДО",
//	для формы "ТекущиеДелаПоЭДОЛегкийИнтерфейс".
// Возвращаемое значение:
//  Структура:
//  * ЗаголовокКоманды - Строка - Заголовок команды для переключения страницы
//  * ИмяСтраницы - Строка - Имя страницы
//  * ЭтоВходящиеИлиИсходящие - Строка - Содержит страница список входящих или исходящих документов
//	* ИмяРеквизитаФормыКоличествоЭлементов - Число - Имя реквизита с подсчетом количества элементов раздела
//	* АдаптируемыеПоляСписка - Массив- Содержит поля списка для адаптации
//
Функция СведенияОРазделеИсходящие()

	ЗаголовокФормы = НСтр("ru ='ЭДО: Исходящие документы'");
	ИмяПодключаемойКоманды = "Подключаемый_МК_АктивироватьСтраницуИсходящие";
	
	СведенияОРазделе = НовыйСведенияОРазделеФормыТекущиеДела(ЗаголовокФормы,
		"ИсходящиеЭлектронныеДокументы",
		ИмяПодключаемойКоманды);
	СведенияОРазделе.ЗаголовокКоманды = НСтр("ru ='Исходящие'");
	СведенияОРазделе.ИмяСтраницы= "СтраницаИсходящиеЭлектронныеДокументы";
	СведенияОРазделе.ЭтоВходящиеИлиИсходящие = Истина;
	СведенияОРазделе.ИмяРеквизитаФормыКоличествоЭлементов = "КоличествоНовыхИсходящие";
	
	СведенияОПолеСписка = НовыйСведенияОРасположенииЭлемента("ИсходящиеЭлектронныеДокументыКонтрагент", 0);
	СведенияОРазделе.АдаптируемыеПоляСписка.Добавить(СведенияОПолеСписка);
	
	СведенияОПолеСписка = НовыйСведенияОРасположенииЭлемента("ИсходящиеЭлектронныеДокументыДатаПолучения", 0);
	СведенияОПолеСписка.ГоризонтальноеПоложение = "Право";
	СведенияОРазделе.АдаптируемыеПоляСписка.Добавить(СведенияОПолеСписка);
	
	СведенияОПолеСписка = НовыйСведенияОРасположенииЭлемента(
		"ИсходящиеЭлектронныеДокументыЭлектронныйДокумент", 1);
	СведенияОРазделе.АдаптируемыеПоляСписка.Добавить(СведенияОПолеСписка);
	
	СведенияОПолеСписка = НовыйСведенияОРасположенииЭлемента("ИсходящиеЭлектронныеДокументыГруппаСостояние", 2);
	СведенияОРазделе.АдаптируемыеПоляСписка.Добавить(СведенияОПолеСписка);
	
	СведенияОПолеСписка = НовыйСведенияОРасположенииЭлемента("ИсходящиеЭлектронныеДокументыСуммаДокумента", 2);
	СведенияОПолеСписка.ГоризонтальноеПоложение = "Право";
	СведенияОРазделе.АдаптируемыеПоляСписка.Добавить(СведенияОПолеСписка);
	
	Возврат СведенияОРазделе;

КонецФункции

#КонецОбласти

#КонецЕсли